# AEM Infinity-6 Wiring Harness Recommendations & Gap Analysis

## Executive Summary

This document identifies missing components, unclear pin assignments, and recommended additions for your 7M-GTE Datsun 240Z build with AEM Infinity-6 ECU.

---

## 1. CRITICAL MISSING PIN ASSIGNMENTS

### 1.1 Crankshaft Position Sensor (REQUIRED)
**Status:** ❌ NOT DOCUMENTED

The engine will not start without this sensor properly wired.

**Current State:**
- You have Driftmotion V2 Digital CPS documented in README.md
- Pin assignments are NOT specified in AEM harness documentation

**Required Connections:**
- **Pin 1 (NE - Crank)** → AEM C1-25 (Crankshaft Position Sensor Hall)
- **Pin 2 (G1 - Cam)** → AEM C1-26 (Camshaft Position Sensor 1 Hall)
- **Pin 3 (G - Ground)** → Battery ground or ECU ground point
- **Pin 4 (G2 - 12V)** → Ignition-switched 12V power (NOT 5V sensor power)

**Important Notes:**
- Disable internal ECU pull-ups in software (sensor has built-in pull-ups)
- Configure in AEM Setup Wizard as Hall-type sensors, not VR
- Maintain 0.020"–0.045" air gap during installation

**Wire Specification Needed:**
- 22 AWG shielded twisted pair recommended for crank/cam signals
- 18-20 AWG for 12V power supply
- Route away from ignition coil wires to prevent EMI

---

### 1.2 Ignition Coil Wiring with IGN-1A Smart Coils
**Status:** ✅ COILS SPECIFIED - ⚠️ WIRING NEEDS COMPLETION

**Component:** IGN-1A Inductive Smart Coils (6x) - documented in README.md

**IGN-1A Coil Pinout (5-pin connector):**
- **Pin A (Leftmost):** Trigger signal - High (~5V) = dwell begins, Low (0V) = coil fires
- **Pin B:** Logic ground (ECU 0V reference)
- **Pin C:** Spark ground to cylinder head (coil discharge ground)
- **Pin D:** Engine block (main) ground
- **Pin E (Rightmost):** +12V power supply

**IGN-1A Specifications:**
- Output Energy: ~103 mJ typical (up to ~175 mJ)
- Spark duration: ~2.9 ms typical
- Output Voltage: 40,000-81,000V (no-load)
- Maximum Battery Voltage: 17V
- Maximum Primary Current: 19-20A
- Recommended dwell: ~3.0 ms nominal, 9 ms max continuous
- Duty cycle: <40% continuous maximum

**AEM Signal Wire Connections (from 30-3706 harness):**
- C1-14 (COIL 1) → Blue 22AWG → Cylinder 1 IGN-1A Pin A (Trigger)
- C1-13 (COIL 2) → Blue 22AWG → Cylinder 2 IGN-1A Pin A (Trigger)
- C1-12 (COIL 3) → Blue 22AWG → Cylinder 3 IGN-1A Pin A (Trigger)
- C1-11 (COIL 4) → Blue 22AWG → Cylinder 4 IGN-1A Pin A (Trigger)
- C1-16 (COIL 5) → Blue 22AWG → Cylinder 5 IGN-1A Pin A (Trigger)
- C1-15 (COIL 6) → Blue 22AWG → Cylinder 6 IGN-1A Pin A (Trigger)

**Additional Wiring Kit Available:**
You have an ignition-specific wiring kit with Molex MX123 80-pin terminals:
- 2x shielded 4-wire bundles (white, black, red, green inside each)
- 10x unlabeled white wires

**CRITICAL: IGN-1A Logic Ground Connections (Pin B)**
Each IGN-1A coil Pin B must connect to ECU signal ground for proper trigger reference.

**Recommended Use of Shielded Wire Bundles:**
- **Bundle 1 (Coils 1, 2, 3):**
  - White wire → Coil 1 Pin B (Logic Ground)
  - Black wire → Coil 2 Pin B (Logic Ground)
  - Red wire → Coil 3 Pin B (Logic Ground)
  - Green wire → Common to ECU C1-23 or C1-24 (Analog Sensor Ground)
  
- **Bundle 2 (Coils 4, 5, 6):**
  - White wire → Coil 4 Pin B (Logic Ground)
  - Black wire → Coil 5 Pin B (Logic Ground)
  - Red wire → Coil 6 Pin B (Logic Ground)
  - Green wire → Common to ECU C1-23 or C1-24 (Analog Sensor Ground)

**Why Shielded Wire:** Protects sensitive logic ground from EMI generated by high-voltage spark discharge.

**Power & Ground Distribution Strategy:**
Per your ignition/README.md pairing strategy (180° firing pairs):
- **Pair 1-6:** Coils 1 + 6
- **Pair 5-2:** Coils 5 + 2
- **Pair 3-4:** Coils 3 + 4

**Power Distribution (Pin E - +12V):**
- Main coil power bus: 10 AWG wire from main relay or dedicated coil relay
- 30A fuse at source
- Split into 3 branches (one per coil pair)
- Individual coil power feeds: 16 AWG wire (per ignition/README.md spec)
- 10A fuse per pair

**Spark Ground Distribution (Pin C - Cylinder Head):**
- Per ignition/README.md: 16 AWG wires from each coil to cylinder head ground points
- Paired coils (1-6, 5-2, 3-4) join with butt connectors
- Combined pairs: 10 AWG wire to main cylinder head ground point
- Use dual-wall heat shrink on all connections

**Main Ground Distribution (Pin D - Engine Block):**
- All 6 coils Pin D connect to engine block ground point
- Individual coil grounds: 16 AWG black wire
- Combined to 10 AWG at junction point
- Heavy ground strap from engine block to chassis (2 AWG or larger)

---

### 1.3 Fuel Injector Power Supply (NOT DOCUMENTED)
**Status:** ❌ MISSING

**Current State:**
- AEM harness provides 6x injector ground signals (orange 22AWG)
- Siemens Deka 630cc injectors specified in README
- **NO DOCUMENTATION** on injector +12V power supply

**Required Addition:**
Injectors need constant +12V power supply (separate from ECU control):

**Recommended Wiring:**
1. **Main Injector Power Bus:**
   - Source: Main relay output (same 12V feeding ECU)
   - Wire gauge: 14 AWG minimum for 6x 630cc injectors
   - Inline fuse: 20A ATO/ATC blade fuse
   
2. **Distribution:**
   - Create a 6-way power distribution block or solder junction
   - Individual leads to each injector: 16-18 AWG
   - All 6 injectors share common +12V
   - AEM controls ground side through ECU pins C1-78, C1-77, C1-76, C1-66, C1-65, C1-64

**Part Recommendations:**
- **Littelfuse ATO Inline Fuse Holder** - 14 AWG rated
- **20A ATO Blade Fuses** (pack of 10)
- **6-way insulated terminal block** OR use crimp splices

---

### 1.4 Main Power Relay Wiring (INCOMPLETE)
**Status:** ✅ RELAY/FUSE BOX DOCUMENTED - ⚠️ WIRING DETAILS NEEDED

**Current State:**
- AEM harness includes micro relay
- Basic relay pins documented in flying lead harness
- **NEW:** External relay/fuse box documented in [engine-relay-fuse-box.md](engine-relay-fuse-box.md)

**Complete Relay Wiring:**

**Using External Relay/Fuse Box (Recommended):**
See [engine-relay-fuse-box.md](engine-relay-fuse-box.md) for detailed relay/fuse configuration covering:
- Relay 1: ECU Main Power Relay (30A fused)
- Relay 2: Fuel Pump Relay (35A fused for dual pumps)
- Relay 3: Ignition Coil Power Relay (30A fused)
- Relay 4: Cooling Fan Relay (25-30A fused)
- Relay 5: IAC & EBCS Power Distribution (10A fused)
- Relay 6: Spare/Future Use

**ECU Main Relay (Relay 1) Terminal Assignments:**
- **Pin 85 (Control-):** C1-47 (RED 22AWG) - ECU relay control output
- **Pin 86 (Control+):** Battery + (RED 18AWG)
- **Pin 30 (Power In):** Battery + (10-12 AWG, 30A fused at battery)
- **Pin 87 (Switched Out):** ECU Main Power + Injector Power Bus + IAC/EBCS Relay

**From ECU Main Relay Pin 87, distribute to:**
1. C1-63 + C1-68 (ECU main relay power input) - uses existing RED 22AWG from harness, 15A inline fuse
2. Fuel injector power bus - 14 AWG wire with 20A inline fuse
3. Relay 5 Pin 30 (powers IAC + EBCS through secondary relay) - 16 AWG wire with 10A fuse

**Protection Provided by External Relay/Fuse Box:**
- 30A fuse at ECU main relay Pin 30 (battery input)
- 35A fuse at fuel pump relay
- 30A fuse at ignition coil relay
- 25-30A fuse at cooling fan relay
- Individual circuit protection for all accessories

---

## 2. UNDOCUMENTED COMPONENTS & PIN ASSIGNMENTS

### 2.1 Idle Air Controller (IAC/ISC)
**Status:** ❌ NOT WIRED

**Component:** Driftmotion Universal Remote Mount ISC (documented in README)

**Required Connections:**
- **Power (+12V):** From main relay output, 16 AWG wire, 5A inline fuse
- **Control Signal (PWM):** AEM lowside output - **ASSIGNMENT NEEDED**
- **Ground:** Chassis ground or ECU ground bus

**Recommended AEM Pin Assignment:**
- Use **C1-1 (Lowside 4)** - 1.7A max, no flyback diode (ISC is 5.4W/25.4Ω = ~0.47A @ 12V)
- Alternative: **C1-4 (Lowside 7)** - 6A max, no flyback diode

**Important:** Configure AEM PWM frequency to 300-400 Hz in software setup.

**Wire Additions Needed:**
- Add flying lead from C1-1 or C1-4 to ISC control wire
- Document power wire routing from relay to ISC

---

### 2.2 Electronic Boost Control Solenoid (EBCS)
**Status:** ❌ NOT WIRED

**Component:** 3-port solenoid, 5.4W, 25.4Ω (documented in README)

**Required Connections:**
- **Power (+12V):** From main relay output, 18 AWG wire, 5A inline fuse
- **Control Signal (PWM):** AEM lowside output - **ASSIGNMENT NEEDED**
- **Ground:** Through AEM lowside switch
- **Vacuum/Boost Lines:** Document plumbing to wastegate actuator and manifold

**Recommended AEM Pin Assignment:**
- Use **C1-21 (Lowside 2)** - Currently assigned to "FAN" in harness
  - 1.7A max, no flyback diode (EBCS is ~0.47A @ 12V)
- Alternative: **C1-41 (Lowside 0)** - Currently assigned to "FUEL PUMP"
  
**Conflict Resolution:**
The harness pre-assigns C1-21 to "FAN" and C1-41 to "FUEL PUMP". You need to:
1. Decide which lowside outputs to use for what functions
2. Re-label or rewire harness accordingly
3. Document final assignments

**Suggested Pin Assignment Strategy:**
- **C1-41 (Lowside 0):** Fuel Pump Relay (critical, keep as-is)
- **C1-21 (Lowside 2):** Electronic Boost Control Solenoid (boost control)
- **C1-1 (Lowside 4):** Idle Air Controller (idle control)
- **C1-2 (Lowside 5):** Tachometer Output (keep as-is from harness)
- **C1-4 (Lowside 7):** Cooling Fan Relay (relocate from C1-21)

---

### 2.3 Fuel Pump Control (NEEDS CLARIFICATION)
**Status:** ⚠️ INCOMPLETE

**Current State:**
- Fuel pump relay control assigned to C1-41 (Lowside 0)
- Dual Walbro pumps mentioned in fuel-system/README.md
- **NO WIRING DIAGRAM** for dual pump relay setup

**Required Documentation:**

**Option A: Single Relay, Parallel Pumps**
```
C1-41 (Lowside 0) → Relay 85 (control)
Relay 86 → +12V
Relay 30 → +12V battery (40A fused)
Relay 87 → Split to both pump power wires (parallel)
Both pumps ground to chassis
```

**Option B: Dual Relays, Individual Pump Control**
```
C1-41 (Lowside 0) → Both Relay 85 pins (parallel control)
Each relay powers one pump independently
Allows individual fusing (20A each)
```

**Wire Gauge for Dual Pumps:**
- Main power feed (Relay 30): **10 AWG, 40A fuse**
- Individual pump feeds: **12 AWG, 20A fuse each**
- Relay control: 18-20 AWG (harness provides 22 AWG pink)

---

### 2.4 Knock Sensors (INCOMPLETE WIRING)
**Status:** ⚠️ SENSORS SPECIFIED, WIRING NOT DOCUMENTED

**Components:** 2x Bosch 0 261 231 006 with EV1 connectors (documented)

**Required Connections:**
- **Knock Sensor 1 Signal:** C1-44 → Sensor 1 signal pin
- **Knock Sensor 2 Signal:** C1-45 → Sensor 2 signal pin
- **Ground (both sensors):** Battery ground or ECU ground bus

**Missing from Harness:**
- AEM flying lead harness does NOT include knock sensor wires
- **YOU MUST ADD** these wires yourself

**Wire Specifications:**
- **Shielded coaxial cable** recommended (RG174 or similar)
- 20-22 AWG center conductor
- Shield connected to ECU ground at ECU end only (not at sensor)
- Keep away from ignition wires and alternator

**Pinout Clarification Needed:**
- Which pin on EV1 connector is signal vs. ground?
- Typical: Pin 1 = Signal, Pin 2 = Ground (verify with Bosch datasheet)

**Installation Location:**
- Document mounting location on 7M-GTE block
- Torque specification: Typically 15-20 Nm (11-15 ft-lb) for M8 knock sensors

---

### 2.5 Wide Band O2 Sensor Heater Power (CLARIFICATION NEEDED)
**Status:** ⚠️ POTENTIAL ISSUE

**Current State:**
- AEM harness shows "AFR VH+" (yellow 20 AWG) to UEGO Pin 3
- Documentation states: "Connect to ignition-switched +12V power source"
- "**Do not** connect to constant power source"

**Concern:**
- Yellow 20 AWG may be undersized for heater current draw
- Bosch LSU 4.2 heater draws ~8-10A during initial warm-up
- 20 AWG wire rated for ~11A max (in free air)

**Recommendation:**
1. **Verify heater current** for AEM 30-2001 sensor (LSU 4.2)
2. If >8A, upgrade to **16 AWG wire** from ignition switch to UEGO Pin 3
3. Add **15A inline fuse** on heater power wire
4. Route away from engine heat sources

**Correct Power Source:**
- Ignition switch "RUN" position (not ACC, not START)
- Should have power during cranking AND running
- Do NOT use constant +12V (sensor will overheat when engine is off)

---

## 3. MISSING OPTIONAL FEATURES YOU SHOULD CONSIDER

### 3.1 Oil Pressure Monitoring (RECOMMENDED)
**Status:** ❌ NOT IMPLEMENTED

**Why You Need This:**
- Turbo engine protection
- Early warning of bearing failure
- Can trigger limp mode or engine shutdown

**Required Hardware:**
- 0-5V analog oil pressure sensor (you need to source)
- AEM 30-2131-100 (0-100 PSI) OR similar 3-wire sensor
- 1/8" NPT bung in oil galley or block

**AEM Pin Assignment:**
- **C1-73 (Analog 13)** - Default Oil Pressure Sensor input (per pinout doc)
- Pin A → C1-23 or C1-24 (Analog Sensor Ground)
- Pin B → C1-73 (Signal)
- Pin C → C1-49 or C1-50 (+5V Sensor Power)

**Wire Requirements:**
- Add 3-wire bundle (22-24 AWG) to harness
- Red: +5V, Black: Ground, White/Signal: to C1-73

---

### 3.2 Oil Temperature Monitoring (RECOMMENDED)
**Status:** ❌ NOT IMPLEMENTED (but sensor documented)

**Current State:**
- You mention AEM 30-2013 (1/8" NPT) or 30-2011 (3/8" NPT) in README
- Pin assignment not documented

**AEM Pin Assignment:**
- **C1-40 (Analog Temp 3)** - Default Oil Temperature Input (per pinout doc)
- 2-wire thermistor sensor
- One wire to C1-40, other wire to sensor ground

**Wire Requirements:**
- Add 2-wire cable (22 AWG) to harness
- If using weatherproof DTM connector version (30-2013), add connector pins

**Recommended Installation:**
- Oil pan drain plug adapter OR
- Remote oil filter sandwich plate with 1/8" NPT port

---

### 3.3 Fuel Pressure Monitoring (ALREADY ASSIGNED)
**Status:** ✅ WIRED BUT SENSOR NOT SPECIFIED

**AEM Pin Assignment:**
- **C1-53 (Analog 9)** - Default Fuel Pressure Sensor input (per pinout doc)
- Flying lead harness shows this pin unused

**Missing Hardware:**
- You need to source a 0-5V fuel pressure sensor
- Recommended: AEM 30-2131-50 (0-50 PSI / 3.5 Bar)
  - Matches your MAP sensor spec
  - Suitable for turbocharged application with 1:1 FPR

**Wire Requirements:**
- Add 3-wire bundle (22 AWG) from harness
- Pin A → Sensor Ground (C1-23/C1-24)
- Pin B → +5V (C1-49/C1-50)
- Pin C → C1-53 signal input

**Installation Location:**
- Fuel rail (high-pressure side)
- After fuel pressure regulator for actual rail pressure
- Use -4 AN or 1/8" NPT adapter

---

### 3.4 Exhaust Gas Temperature (EGT) Monitoring (OPTIONAL)
**Status:** ❌ NOT IMPLEMENTED

**Why Consider:**
- Turbo health monitoring (keep EGT <1,650°F / 900°C)
- Tuning safety margin indicator
- Rich/lean condition warning

**Hardware Required:**
- K-type thermocouple probe
- AEM does NOT have built-in EGT amplifier
- Options:
  1. External EGT gauge with 0-5V output → AEM analog input
  2. AEM CAN-based EGT module (if available)
  3. Standalone EGT gauge (non-ECU integrated)

**If Using 0-5V Output:**
- Use available analog input: C1-71, C1-74, C1-75, C1-70, C1-69
- Document in Input Function Assignments

**Probe Location:**
- Pre-turbine (most accurate for tuning)
- 3-6" from exhaust ports
- NOT in turbine housing (too hot, will fail)

---

### 3.5 Flex Fuel Sensor (E85 CONTENT MONITORING)
**Status:** ❌ NOT IMPLEMENTED (BUT HIGHLY RECOMMENDED FOR E85)

**Why You Need This:**
- You specified E85-compatible fuel system
- E85 content varies seasonally (E51-E83 in USA)
- Allows automatic fuel map switching based on ethanol %

**Hardware Required:**
- Continental / GM Flex Fuel Sensor (P/N 13577429)
- Inline in fuel feed line (low pressure side, before pump if external)
- 3-wire connector: +12V, Ground, Signal

**AEM Integration:**
- Signal wire measures fuel frequency (50-150 Hz) proportional to ethanol %
- Use digital frequency input pin

**Recommended Pin Assignment:**
- **C1-28 (Dig3 [Hz] / Dig3 Duty)** - Frequency input
- Power from ignition-switched 12V (1A max)
- Ground to sensor ground bus

**Wire Requirements:**
- Add 3-wire bundle (20-22 AWG)
- Shielded recommended (signal is low frequency)

**Configuration:**
- AEM Infinity supports flex fuel tuning
- Configure in "Input Function Assignments"
- Create ethanol % blend tables for ignition timing and fuel

---

### 3.6 Coolant Temperature Already Assigned
**Status:** ✅ ASSIGNED

- C1-38 (Analog Temp 1) → White 22AWG → "CLT TEMP" in Main I/O Bundle
- Sensor specified: AEM 30-2011 or 30-2012 or 30-2013
- **VERIFY** you purchased/installed this sensor

---

### 3.7 Intake Air Temperature Already Assigned
**Status:** ✅ ASSIGNED

- C1-39 (Analog Temp 2) → White 22AWG → "AIR TEMP" in Main I/O Bundle  
- Sensor specified: AEM 30-2010 (3/8" NPT)
- **VERIFY** installation location (intake manifold or intercooler pipe)

---

### 3.8 Throttle Position Sensor Already Assigned
**Status:** ✅ ASSIGNED

- C1-51 (Analog 7) → White 22AWG → "TPS" in Main I/O Bundle
- Sensor specified: Ford Motorcraft DY-967 (1998-2002 E-Series 5.4L)
- Signal: 0.6-0.9V closed → 4.3-4.7V WOT
- Power: C1-49 (+5V), Ground: C1-23

---

### 3.9 MAP Sensor Already Assigned
**Status:** ✅ ASSIGNED

- C1-52 (Analog 8) → White 22AWG → "MAP" in Main I/O Bundle
- Sensor specified: AEM 30-2130-50 (0-3.5 Bar / 0-50 PSI)
- Suitable for turbo application
- Power: C1-49 (+5V), Ground: C1-23

---

## 4. POWER DISTRIBUTION & FUSING STRATEGY

### 4.1 Recommended Fuse Box Layout ✅ DOCUMENTED

**See [engine-relay-fuse-box.md](engine-relay-fuse-box.md) for complete relay/fuse box configuration.**

**Main Battery Feed:**
- **40-60A ANL Fuse** at battery positive terminal
- 10 AWG or larger to distribution block or relay/fuse box

**External Relay/Fuse Box Configuration:**

The 6-relay waterproof box (True Mods B08KHVHLL5) provides integrated fusing:

| Relay # | Function | Pin 30 Source | Fuse Rating | Destination |
|---------|----------|---------------|-------------|-------------|
| 1 | ECU Main Power | Battery (30A) | 30A | ECU + Injectors + Relay 5 |
| 2 | Fuel Pump | Battery (40A) | 35A | Dual Walbro pumps |
| 3 | Ignition Coils | Battery (30A) | 30A | Coil power bus (10 AWG) |
| 4 | Cooling Fan | Battery (30A) | 25-30A | Dual fans (parallel) |
| 5 | IAC/EBCS | ECU Relay #1 Pin 87 | 10A | Split to IAC + EBCS (5A each) |
| 6 | Spare | TBD | TBD | Future use |

**From ECU Main Relay (Relay 1) Pin 87:**

| Circuit | Wire Gauge | Inline Fuse | Destination |
|---------|-----------|-------------|-------------|
| ECU Power (C1-63, C1-68) | 18 AWG | 15A | AEM harness RED 22AWG |
| Fuel Injector Power Bus | 14 AWG | 20A | 6x injector +12V common |
| IAC/EBCS Relay Pin 30 | 16 AWG | 10A | Relay 5 input |

**From Ignition Coil Relay (Relay 3) Pin 87:**

| Circuit | Wire Gauge | Inline Fuse | Destination |
|---------|-----------|-------------|-------------|
| Main Coil Bus | 10 AWG | — | Distribution point |
| Coil Pair 1-6 Power | 16 AWG | 10A | Coils 1 + 6 |
| Coil Pair 5-2 Power | 16 AWG | 10A | Coils 5 + 2 |
| Coil Pair 3-4 Power | 16 AWG | 10A | Coils 3 + 4 |

**From IAC/EBCS Relay (Relay 5) Pin 87:**

| Circuit | Wire Gauge | Inline Fuse | Destination |
|---------|-----------|-------------|-------------|
| Idle Air Controller | 16 AWG | 5A | ISC power |
| Boost Control Solenoid | 18 AWG | 5A | EBCS power |

**Additional Circuits (Not Through Relay Box):**

| Circuit | Wire Gauge | Fuse Rating | Destination |
|---------|-----------|-------------|-------------|
| UEGO Heater Power | 16 AWG | 15A | Sensor Pin 3 via ignition switch |

---

### 4.2 Ground Distribution Strategy (TO BE DOCUMENTED)

**ECU Ground Points:**
- C1-33, C1-43, C1-46, C1-67 → All to single chassis ground point
- Use 10 AWG or 8 AWG ground cable to chassis
- Paint removal and star washer required
- Resistance from battery ground to chassis: <0.1Ω

**Sensor Ground Bus:**
- C1-23, C1-24 (Analog Sensor Ground) → Internal ECU reference
- Do NOT connect to chassis ground
- Do NOT share with high-current circuits

**Component Grounds:**
- Ignition coil grounds: Per your ignition/README.md pairing strategy
- Fuel injector grounds: Through ECU (C1-78, C1-77, C1-76, C1-66, C1-65, C1-64)
- Fuel pump grounds: Direct to chassis (separate from ECU)
- Sensor grounds: Use C1-23/C1-24 (analog sensors) or chassis (digital sensors)

---

## 5. DOCUMENTATION GAPS & RECOMMENDATIONS

### 5.1 Create Wire Color & Pin Assignment Master Table

**Recommended Document:** `AEM-harness-custom-wiring.md`

Should include:
- All modifications to stock harness
- Added wires for knock sensors
- Added wires for IAC, EBCS
- Added wires for oil pressure/temp
- Added wires for fuel pressure sensor
- Custom power distribution wiring
- Color coding scheme for additions

---

### 5.2 Create Connector Pinout Reference Document

**Recommended Document:** `connector-pinouts.md`

Should document:
- AEM 30-2001 UEGO sensor connector (6-pin)
- Bosch knock sensor EV1 connector (2-pin)
- Driftmotion CPS connector (4-pin)
- Siemens Deka injector connector (EV6 Jetronic)
- Ford TPS connector (3-pin)
- AEM MAP sensor connector (3-pin Deutsch)
- AEM temperature sensor connectors (2-pin DTM)
- Ignition coil connectors (varies by coil choice)

---

### 5.3 Create Grounding Diagram

**Recommended Document:** `grounding-strategy.md`

Should include:
- ECU ground point location on chassis
- Sensor ground bus topology
- Engine block to chassis ground strap (if applicable)
- Battery negative cable routing
- Ground wire gauge chart
- Star grounding vs. daisy-chain strategy

---

### 5.4 Create Power Distribution Diagram

**Recommended Document:** `power-distribution.md`

Should include:
- Battery terminal block wiring
- Main relay location and wiring
- Fuse box layout and ratings
- Ignition switch integration points
- Accessory relay setup
- Wire gauge and fuse rating justifications

---

## 6. SPECIFIC WIRE ADDITIONS NEEDED

### Summary of Wires to Add to AEM Harness:

| Function | From Pin | Wire Spec | Qty | Notes |
|----------|----------|-----------|-----|-------|
| Crank Position Sensor | C1-25 | 22 AWG shielded | 1 | Hall sensor signal |
| Cam Position Sensor | C1-26 | 22 AWG shielded | 1 | Hall sensor signal |
| CPS 12V Power | — | 18 AWG | 1 | From ignition-switched 12V |
| CPS Ground | — | 18 AWG | 1 | To chassis ground |
| Knock Sensor 1 Signal | C1-44 | 22 AWG coax/shielded | 1 | RG174 or similar |
| Knock Sensor 2 Signal | C1-45 | 22 AWG coax/shielded | 1 | RG174 or similar |
| Knock Sensor Grounds | — | 20 AWG | 2 | To chassis ground |
| IAC Control Signal | C1-1 or C1-4 | 18 AWG | 1 | Lowside output |
| IAC Power (+12V) | — | 16 AWG | 1 | From relay + 5A fuse |
| EBCS Control Signal | C1-21 (reassign) | 18 AWG | 1 | Lowside output |
| EBCS Power (+12V) | — | 18 AWG | 1 | From relay + 5A fuse |
| Injector Power Bus | — | 14 AWG | 1 | From relay + 20A fuse |
| Injector Power Dist. | — | 16-18 AWG | 6 | To each injector +12V |
| Oil Pressure Sensor | C1-73 | 22 AWG (3-wire) | 1 | +5V, GND, Signal |
| Oil Temp Sensor | C1-40 | 22 AWG (2-wire) | 1 | Thermistor type |
| Fuel Pressure Sensor | C1-53 | 22 AWG (3-wire) | 1 | +5V, GND, Signal |
| Flex Fuel Sensor (opt) | C1-28 | 20 AWG (3-wire) | 1 | +12V, GND, Freq signal |
| Cooling Fan Relay | C1-4 (reassign) | 18 AWG | 1 | Move from C1-21 |

---

## 7. SOFTWARE CONFIGURATION CHECKLIST

### AEM Infinity Setup Wizard Pages to Complete:

1. **Cam/Crank Configuration:**
   - Sensor Type: Hall Effect (both crank and cam)
   - Disable internal pull-ups (Driftmotion CPS has built-in pull-ups)
   - Trigger pattern: Toyota 7M-GTE (24-tooth crank, 1-tooth cam)

2. **Output Function Assignment:**
   - C1-1 (Lowside 4): Idle Air Controller (PWM 300-400 Hz)
   - C1-21 (Lowside 2): Electronic Boost Control Solenoid
   - C1-41 (Lowside 0): Fuel Pump Relay
   - C1-2 (Lowside 5): Tachometer Output
   - C1-4 (Lowside 7): Cooling Fan Relay

3. **Input Function Assignments:**
   - C1-25: Crankshaft Position Sensor (Hall)
   - C1-26: Camshaft Position Sensor (Hall)
   - C1-38: Coolant Temperature (Thermistor)
   - C1-39: Air Intake Temperature (Thermistor)
   - C1-40: Oil Temperature (Thermistor)
   - C1-51: Throttle Position Sensor (0-5V)
   - C1-52: Manifold Absolute Pressure (0-5V)
   - C1-53: Fuel Pressure (0-5V)
   - C1-73: Oil Pressure (0-5V)
   - C1-28: Flex Fuel Sensor (Frequency input) - if installed
   - C1-30: 2-Step Input (Digital switch to ground)

4. **Set Throttle Range:**
   - Auto-calibrate TPS min/max using wizard

5. **Knock Setup:**
   - Enable both knock sensors (C1-44, C1-45)
   - Set frequency window for Bosch sensors: 5-8 kHz typical
   - Configure knock retard strategy

6. **Injector Configuration:**
   - Type: High Impedance
   - Flow rate: 630 cc/min @ 3 Bar (43.5 PSI)
   - Voltage compensation: Enable
   - Dead time: Per Siemens Deka specs (typically ~0.7-0.9ms @ 14V)

7. **Ignition Configuration:**
   - Type: Falling Edge Trigger
   - Coil dwell time: Per coil manufacturer specs
   - Firing order: 1-5-3-6-2-4

---

## 8. PARTS YOU STILL NEED TO SOURCE

### Critical Missing Hardware:

1. **Fuel Pressure Sensor**
   - AEM 30-2131-50 (0-50 PSI / 0-3.5 Bar)
   - Or equivalent 0-5V analog output sensor

2. **Oil Pressure Sensor**
   - AEM 30-2131-100 (0-100 PSI) or similar
   - 0-5V analog output, 3-wire

3. **~~Ignition Coils/Ignitors~~ ✅ COMPLETED**
   - IGN-1A Inductive Smart Coils (6x) specified in README.md
   - Built-in smart ignitors (no external ignitors needed)

4. **Additional Wire & Connectors:**
   - 50 ft spool: 22 AWG shielded twisted pair (crank/cam/knock sensors)
   - 25 ft spool: 14 AWG red wire (injector power bus)
   - 25 ft spool: 16 AWG red wire (coil power, IAC power)
   - 25 ft spool: 18 AWG black wire (grounds)
   - 10x ATO inline fuse holders (14-16 AWG rated)
   - Fuse assortment: 5A, 10A, 15A, 20A, 30A
   - EV1 connector pigtails (2-pin) for knock sensors (qty 2)
   - Deutsch 3-pin connector for sensors (if not included with sensors)

5. **Optional but Recommended:**
   - Flex fuel sensor: Continental/GM P/N 13577429
   - EGT gauge or sensor module (if desired)

---

## 9. NEXT STEPS / ACTION ITEMS

### High Priority (Engine Won't Start Without):
- [ ] Document crankshaft/camshaft position sensor wiring (C1-25, C1-26)
- [ ] Add wire for CPS 12V power supply
- [ ] Document fuel injector +12V power distribution
- [ ] Create relay/fuse panel diagram
- [x] ~~Specify ignition coil model~~ ✅ IGN-1A specified
- [ ] Complete IGN-1A coil wiring using available shielded wire bundles

### Medium Priority (Important for Safety/Reliability):
- [ ] Add knock sensor signal wires (C1-44, C1-45)
- [ ] Source and wire oil pressure sensor
- [ ] Source and wire fuel pressure sensor
- [ ] Document oil temperature sensor wiring (C1-40)
- [ ] Create grounding strategy diagram

### Lower Priority (Features & Optimization):
- [ ] Wire idle air controller (C1-1 or C1-4)
- [ ] Wire electronic boost control solenoid (C1-21)
- [ ] Consider flex fuel sensor for E85 content monitoring
- [ ] Create master wire color/pin assignment table
- [ ] Create connector pinout reference document

---

## 10. SUMMARY

Your documentation continues to improve with recent additions. Here's the current status:

**Recent Improvements:** ✅
- ✅ CPS connector pinout with wire colors and physical orientation documented in README.md
- ✅ External relay/fuse box documented in [engine-relay-fuse-box.md](engine-relay-fuse-box.md)
- ✅ Power distribution strategy now clearly defined with 6-relay system
- ✅ IGN-1A coil specifications documented

**Critical Remaining Gaps:**
- ❌ Crank/cam position sensor wire routing (pins identified, need to add wires to harness)
- ❌ Fuel injector +12V power supply implementation (strategy documented, needs wiring)
- ❌ Ignition coil Pin B logic ground wiring (strategy in TODO doc, needs implementation)
- ❌ Knock sensor signal wiring (harness doesn't include these wires, must add)

**Recommended Additions:**
- Oil pressure monitoring (sensor needs sourcing, pin C1-73 available)
- Fuel pressure monitoring (pin C1-53 assigned, sensor needs sourcing)
- Flex fuel sensor for E85 content monitoring (pin C1-28 available)
- Oil temperature sensor wiring (sensor mentioned in README, needs pin documentation)

**Clarifications Now Resolved:**
- ✅ Lowside output assignments clarified in TODO document
- ✅ IAC control pin: C1-1 or C1-4 (Lowside 4 or 7)
- ✅ EBCS control pin: C1-21 (Lowside 2)
- ✅ Ignition system: IGN-1A smart coils confirmed

**Next Priority Actions:**
1. Source and add wires for crank/cam sensors (2x shielded wires from kit)
2. Source and add wires for knock sensors (2x coaxial cables recommended)
3. Implement ignition coil Pin B logic ground using shielded wire bundles
4. Wire fuel injector power bus from ECU main relay
5. Source oil pressure and fuel pressure sensors

With the relay/fuse box now documented, you have a solid power distribution foundation. Focus next on the critical sensor wiring to get the engine running, then add monitoring sensors for safety and tuning.

